{"author":{"id":"MDQ6VXNlcjc5NTIwNjA=","is_bot":false,"login":"wendytang","name":"Wendy Tang"},"body":"**Describe the bug**\nWhen users interrupt goose mid tool-call, the session is no longer valid\n\n```\nRan into this error: Request failed: Request failed with status: 400 Bad Request. Message: {\"external_model_provider\":\"amazon-bedrock\",\"external_model_error\":{\"message\":\"messages.2: Did not find 1 tool_result block(s) at the beginning of this message. Messages following tool_use blocks must begin with a matching number of tool_result blocks.\"}}.\n\nPlease retry if you think this is a transient or recoverable error.\n```\n\n\n**To Reproduce**\nSteps to reproduce the behavior:\n1. Open up goose app \n2. Ask goose to do something which calls a tool\n3. Interrupt goose\n4. Ask the question again\n\n**Expected behavior**\nGoose should be able to handle interruptions and continue\n\n**Screenshots**\n\n<img width=\"738\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/d4e6f66e-0c9e-4bf0-8c06-d0c3962bf0bd\" />\n\n**Please provide following information:**\n - **OS & Arch:** Mac M1 Max\n - **Interface:** UI\n - **Version:** latest\n - **Extensions enabled:** None\n - **Provider & Model:** Claude-sonnet-3.5\n\n**Additional**\nI believe the same issue arises in the CLI.","comments":[],"createdAt":"2025-03-11T20:21:28Z","labels":[],"number":1624,"state":"OPEN","title":"Goose session invalid after tool call interruption","url":"https://github.com/block/goose/issues/1624"}
